function e(e,t,s,r){var n=Error.call(this,e);return n.name="AssertionError",n.message=n.message,n.stack=n.stack,n.actual=t,n.expected=s,n.operator=r,n}e.prototype=Object.create(Error.prototype),(e.prototype=Object.create?Object.create(Error.prototype):new Error).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message},Error.captureStackTrace=Error.captureStackTrace||function(e){var t=new Error;Object.defineProperty(e,"stack",{configurable:!0,get:function(){var e=t.stack;return Object.defineProperty(this,"stack",{value:e}),e}})};try{var t=Function("return this")()}catch(e){t=void 0}var s=function(){return s.args=s.isNode?s.getArgs():{},s.isBrowser&&console.clear(),t.scenario=s.scenario,t.group=s.scenario,t.feature=s.scenario,t.test=s.test,t.expect=s.expect,t.assert=s.assert,t.t=s.t,t.run=s.run,t.describe=s.scenario,t.it=s.test,t.should=s.expect,t.given=s.scenario,t.when=s.test,t.then=s.expect,t.tea=s,s};s.isBrowser="undefined"!=typeof window&&void 0!==window.document,s.isWebWorker="object"==typeof t&&t.constructor&&"DedicatedWorkerGlobalScope"===t.constructor.name,s.isNode="undefined"!=typeof process&&null!==process.versions&&null!==process.versions.node,s.getArgs=function(){if("undefined"==typeof process)return{};var e={};return process.argv.slice(2,process.argv.length).forEach(function(t){if("--"===t.slice(0,2)){var s=t.split("="),r=s[0].slice(2,s[0].length);e[r]=!(s.length>1)||s[1]}else"-"===t[0]&&t.slice(1,t.length).split("").forEach(function(t){e[t]=!0})}),s.args=e,s.setArgs(),e},s.setArgs=function(){Object.keys(s.args).forEach(function(e){var t=s.args[e];switch(e){case"no-indent":"true"!==t&&!0!==t||(s.noIndent=!0);break;case"q":case"quiet":"true"!==t&&!0!==t||(s.quiet=!0);break;case"nt":case"no-totals":"true"!==t&&!0!==t||(s.noTotals=!0);break;case"fail-fast":case"ff":"true"!==t&&!0!==t||(s.failFast=!0);break;case"format":"node"===t&&(t="console"),"terminal"===t&&(t="console"),"devtools"===t&&(t="console"),s.reportFormat=t;break;case"help":case"h":t&&(console.log("\nUsage:  node path/to/tests.js [options]"),console.log("\nOptions:\n"),console.log("  --quiet            Only list failing tests"),console.log("  --fail-fast        Exit after first failing test"),console.log("  --verbose          List the actual/expected results of passing tests too"),console.log("  --format=<name>    The style/format of the test results (console|debug|tap)"),console.log("  --no-indent        Don't indent grouped test results (useful if piping to TAP prettifiers)"),console.log("  --help             Show this help screen\n")),s.isNode&&"undefined"!=typeof process&&process.exit(0)}})},s.args=s.args||{},s.tests=[],s.testResults=[],s.passes=0,s.fails=0,s.failFast=!1,s.quiet=!1,s.reportFormat="console",s.indent=2,s.indentStr="",s.currentTest={},s.scenario=function(e,t){s.tests.push({msg:e,indentStr:s.indentStr,group:!0}),s.addIndent(),t(),s.rmIndent()},s.test=function(e,t,r){void 0===r&&(r="nowt"),s.currentTest={msg:e,indentStr:s.indentStr,status:"pass",assertions:[],expected:r,passes:null,fails:null,total:null,result:null,stack:null,fn:t},s.currentTest.beforeAll=s.test.beforeAll||function(){},s.currentTest.beforeEach=s.test.beforeEach||function(){},s.currentTest.afterAll=s.test.afterAll||function(){},s.currentTest.afterEach=s.test.afterEach||function(){},s.tests.push(s.currentTest),s.currentTest=s.tests[s.tests.length-1]},s.assertHarness=function(t,r,n,o,a){return s.assertHarness.result=null,s.assertHarness.operator=a||"strict equals",s.currentTest.total+=1,s.assertHarness.result=t,"falsey"===a.toLowerCase()&&Boolean(s.assertHarness.result)&&(s.assertHarness.result=!0),s.assertHarness.result?s.currentTest.passes+=1:(s.assertHarness.result=new e(r,n,o,s.assertHarness.operator),s.currentTest.fails+=1),s.assertHarness.stack=s.assertHarness.result.stack,s.currentTest.assertions.push({actual:n,expected:o,operator:s.assertHarness.operator,result:s.assertHarness.result,msg:r}),s.assertHarness.result},s.expect=function(t,r,n){if(s.expect.result=null,s.expect.expected=void 0===n||n,s.currentTest.total+=1,"function"==typeof r)try{s.expect.result=r()===s.expect.expected,s.currentTest.passes+=1}catch(n){s.currentTest.fails+=1,s.expect.result=new e(t,r,s.expect.expected,"boolean")}else s.expect.result=r===n,s.expect.result?s.currentTest.passes+=1:(s.currentTest.fails+=1,s.expect.result=new e(t,r,s.expect.expected,"boolean"));return s.currentTest.assertions.push({actual:"function"==typeof r?r():r,expected:s.expect.expected,operator:"boolean",result:s.expect.result,msg:t}),s.expect.result},s.deepEquals=function(e,t){if(e===t)return!0;var r="undefined"!=typeof Element,n="function"==typeof Map,o="function"==typeof Set,a="function"==typeof ArrayBuffer;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var i,l,u,c;if(Array.isArray(e)){if((i=e.length)!=t.length)return!1;for(l=i;0!=l--;)if(!s.deepEquals(e[l],t[l]))return!1;return!0}if(n&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.deepEquals(l.value[1],t.get(l.value[0])))return!1;return!0}if(o&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((i=e.length)!=t.length)return!1;for(l=i;0!=l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((i=(u=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=i;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,u[l]))return!1;if(r&&e instanceof Element)return!1;for(l=i;0!=l--;)if(!("_owner"===u[l]&&e.$$typeof||s.deepEquals(e[u[l]],t[u[l]])))return!1;return!0}return e!=e&&t!=t},s.isEqual=function(e,t){try{return s.deepEquals(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("tea.isEqual() cannot handle circular refs"),!1;throw e}},s.assert=function(e){return void 0===e&&(e={}),s.assertHarness(e.actual===(e.expected||!0),e.message,e.actual,e.expected||!0,e.operator||"strict equals")},s.assert.deepEquals=function(e,t,r){return s.assertHarness(s.isEqual(t,r),e,t,r,"deep equals")},s.assert.equals=function(e,t,r){return s.assertHarness(t==r,e,t,r,"equals")},s.assert.eq=s.assert.equals,s.assert.strictEquals=function(e,t,r){return s.assertHarness(t===r,e,t,r,"strict equals")},s.assert.isType=function(e,t,r){return s.assertHarness(typeof t===r,e,typeof t,r,"typeof "+r)},s.assert.truthy=function(e,t,r){return s.assertHarness(Boolean(t),e,t,"truthy","truthy")},s.assert.falsey=function(e,t,r){return s.assertHarness(!t,e,t,"falsey","falsey")},s.hasSymbol="function"==typeof Symbol&&Symbol.for,s.REACT_ELEMENT_TYPE=s.hasSymbol?Symbol.for("react.element"):60103,s.assert.isReactElement=function(e,t,r){return s.assertHarness("object"==typeof t&&null!==t&&t.$$typeof===s.REACT_ELEMENT_TYPE,e,typeof t,"typeof ReactElement","isReactElement")},s.isMutable=function(e){return e&&("object"==typeof e||"function"==typeof e)},s.assert.isMutable=function(e,t,r){return s.assertHarness(s.isMutable(t),e,typeof t,"mutable object","isMutable")},s.assert.isImmutable=function(e,t,r){return s.assertHarness(!1===s.isMutable(t),e,typeof t,"immutable object","isImmutable")},s.assert.throwsError=function(e,t,r){return s.assertHarness(t instanceof Error,e,t instanceof Error,!0,"throwsError")},s.t={},s.t.plan=function(){return!0},s.t.end=function(){return!0},s.t.ok=function(e){return s.assert.truthy(e+" is truthy",e,!0)},s.t.notOk=function(e){return s.assert.falsey(e+" is falsey",e,!0)},s.t.equal=function(e,t){return s.assert.equals(e+" == "+t,e,t)},s.t.strictEqual=function(e,t){return s.assert.strictEquals(e+" === "+t,e,t)},s.t.deepEqual=function(e,t){return s.assert.deepEquals(typeof e+" deep equals "+typeof t,e,t)},s.t.type=function(e,t){return s.assertHarness(typeof e===t,typeof e+" === typeof "+t,typeof e,t,"typeof "+t)},s.t.throws=function(e,t){return s.assert.throwsError("throws Error: "+e,e,t)},s.diff=function(e,t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return e;var r,n={},o=function(e,t,r){var o=Object.prototype.toString.call(e),a=Object.prototype.toString.call(t);if("[object Undefined]"!==a)if(o===a)if("[object Object]"!==o)"[object Array]"!==o?"[object Function]"===o?e.toString()!==t.toString()&&(n[r]=t):e!==t&&(n[r]=t):function(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}(e,t)||(n[r]=t);else{var i=s.diff(e,t);Object.keys(i).length>0&&(n[r]=i)}else n[r]=t;else n[r]=null};for(r in e)e.hasOwnProperty(r)&&o(e[r],t[r],r);for(r in t)t.hasOwnProperty(r)&&(e[r]||e[r]===t[r]||(n[r]=t[r]));return n},s.run=function(){var t=(new Date).getTime();s.currentTest={},s.testResults=[],s.assertions=[],s.passes=0,s.fails=0,"function"==typeof s.test.beforeAll&&s.test.beforeAll(),s.tests.forEach(function(r){if(r.assertions=[],s.currentTest=r,"function"==typeof s.test.beforeEach&&s.test.beforeEach(),"nowt"!==r.expected){var n="function"==typeof r.fn?r.fn():r.fn;if(n!==r.expected){var o=new e(r.msg,r.fn,r.expected,"===");r.passes=0,r.fails=1,r.total=1,r.status="FAIL",r.result=o,r.stack=o.stack,r.assertions=[{msg:r.msg,actual:n,expected:r.expected,operator:"===",result:new Error(r.msg)}]}else r.passes=1,r.fails=0,r.total=1,r.status="pass",r.result=!0,r.assertions=[{msg:r.msg,actual:n,expected:r.expected,operator:"===",result:!0}]}else if("function"==typeof r.fn)try{r.fn(s.t)}catch(e){r.result=e,s.log.fail("ERROR IN TEST"," '"+r.msg+"'"),console.error({msg:r.msg,result:e}),s.isNode&&process.exit()}else if(this.result=r.fn,this.result)r.total+=1,r.passes+=1,r.assertions.push({result:this.result,msg:r.msg});else{var a=new Error(r.msg);r.total+=1,r.fails+=1,r.assertions.push({result:a,msg:r.msg})}var i=r.assertions.filter(function(e){return!0!==e.result});if(i.length>0&&(r.status="FAIL",r.result=i[0].result),!0===r.group&&(r.fails-=1,r.result="",r.status="pass"),s.report([r]),"function"==typeof s.test.afterEach&&s.test.afterEach(),r.group||s.testResults.push(r),!0===s.failFast&&"FAIL"===r.status&&!r.group){if(s.timeTaken=(new Date).getTime()-t,s.reportSummary(),!s.isNode)throw new Error("test failed!");process.exit()}}),"function"==typeof s.test.afterAll&&s.test.afterAll(),s.currentTest={},s.assertHarness.stack=null,s.timeTaken=(new Date).getTime()-t,s.reportSummary()},s.addIndent=function(){for(var e=0;e<s.indent;e++)s.indentStr+=" "},s.rmIndent=function(){for(var e=0;e<s.indent;e++)s.indentStr=s.indentStr.slice(0,-1)},s.log=function(e){console.log(e)},s.log.header=function(e){s.isNode?console.log("[33;1m"+e+"[0m"):console.log("%c"+e,"font-size:1.25em;font-weight: bold;")},s.log.pass=function(e,t){s.isNode?console.log("[38;05;34;1m"+e+"[0m"+t):console.log("%c"+e+"%c"+t,"color:green;font-weight: bold;","color:initial;font-weight:normal;")},s.log.fail=function(e,t){s.isNode?console.log("[31;1m"+e+"[0m"+t):console.log("%c"+e+"%c"+t,"color:red;font-weight: bold;","color:initial;font-weight:normal;")},s.log.bold=function(e){s.isNode?console.log("[1m"+e+"[0m"):console.log("%c"+e,"font-weight: bold;")},s.reportSummary=function(){if("tap"===s.reportFormat){var e=[];s.testResults.forEach(function(t){if("FAIL"===t.status)return e.push(t.msg)});var t=[];s.testResults.forEach(function(e){if("FAIL"!==e.status)return t.push(e.msg)}),console.log("\n"),console.log("1.."+s.testResults.length),console.log("# tests "+s.testResults.length),console.log("# pass "+t.length,""),console.log("# fail "+e.length)}else!0!==s.noTotals&&(console.log("-------------------------"),s.log("Total tests:  "+s.testResults.length),s.log("Total time:   "+s.timeTaken+"ms"),console.log("-------------------------"))},s.report=function(e){var t=[],r=s.reportFormat||"console";e.forEach(function(e){t.push({group:e.group||!1,msg:e.msg,indentStr:e.indentStr,status:e.status||"Unknown!",assertions:e.assertions||"",passes:e.passes||0,fails:e.fails||0,result:e.result||"ok"})}),"console"===r&&s.reportConsole(t),"tap"===r&&s.reportTap(t),"debug"===r&&s.reportDebug(t)},s.reportConsole=function(e){e.forEach(function(e,t){var r=e.assertions.filter(function(e,t){return-1!==e.result.toString().indexOf("Error")}),n="";(!0===s.quiet&&r.length>0||!1===s.quiet)&&(s.log.header(e.indentStr+e.msg),n=" "),e.assertions.forEach(function(t,r){if(assertionFailed=!1,-1!==t.result.toString().indexOf("Error")&&(assertionFailed=!0),(!1!==assertionFailed||!s.quiet)&&(e.group||(!1===assertionFailed?s.log.pass(e.indentStr+"  ✔ PASS",": "+t.msg):s.log.fail(e.indentStr+"  ✘ FAIL",": "+t.msg)),!0===assertionFailed||!0===s.args.verbose||s.args.v)){var n=JSON.stringify(t.actual),o=JSON.stringify(t.expected);if(void 0!==t.expected&&s.log(e.indentStr+"    expected:  "+o),void 0!==t.actual)if(o!==n)if("object"!=typeof t.expected&&!Array.isArray(t.expected)||"object"!=typeof t.actual&&!Array.isArray(t.actual))s.log.bold(e.indentStr+"    actual:    "+n);else{var a=s.diff(t.expected,t.actual);s.log.bold(e.indentStr+"    diff:      "+JSON.stringify(a))}else s.log(e.indentStr+"    actual:    "+n)}})," "===n&&s.log(n)})},s.reportTap=function(e){console.log("");var t=1;e.forEach(function(e,r){s.noIndent&&(e.indentStr=""),s.log.header(e.indentStr+"# "+e.msg),e.assertions.filter(function(e,t){return-1!==e.result.toString().indexOf("Error")}),e.assertions.forEach(function(r,n){if(assertionFailed=!1,-1!==r.result.toString().indexOf("Error")&&(assertionFailed=!0),!1!==assertionFailed||!s.quiet){if(e.group||(!1===assertionFailed?s.log(e.indentStr+"ok "+t+" - "+r.msg):s.log(e.indentStr+"not ok "+t+" - "+r.msg)),!0===assertionFailed||!0===s.args.verbose||s.args.v){var o=JSON.stringify(r.actual),a=JSON.stringify(r.expected);s.log(e.indentStr+" ---"),s.log.fail(e.indentStr+"  operator: "+r.operator,""),s.log.fail(e.indentStr+"  expected: "+a,""),s.log.fail(e.indentStr+"  actual:   "+o,""),s.log(e.indentStr+" ...\n")}t++}})})},s.reportDebug=function(e){e.forEach(s.isNode?function(e){e.group||s.quiet&&"ok"===e.result||(console.log(e.msg),console.log("  passes:     "+e.passes),console.log("  fails:      "+e.fails),console.log("  status:     "+e.status),console.log("  assertions: \n ",e.assertions),console.log("\n"))}:function(e){!0!==e.group&&(!0===s.quiet&&"ok"===e.result||console.table({test:{msg:e.msg,status:e.status||"Unknown!",assertions:e.assertions||"",passes:e.passes||0,fails:e.fails||0,result:e.result||"ok"}}))})},module.exports=s;
//# sourceMappingURL=tea.es6.js.map
